plugins {
	id 'java'
	id 'checkstyle'
}

allprojects {
	apply plugin: 'java'
	apply plugin: 'checkstyle'

	checkstyle {
		configFile = rootProject.file('checkstyle.xml')
		toolVersion = rootProject.checkstyle_version
	}


	java {
		sourceCompatibility = JavaVersion.VERSION_17
		targetCompatibility = JavaVersion.VERSION_17

		if (!JavaVersion.current().isCompatibleWith(JavaVersion.VERSION_17)) {
			toolchain {
				languageVersion = JavaLanguageVersion.of(17)
			}
		}
	}

	tasks.withType(JavaCompile).configureEach {
		it.options.encoding = 'UTF-8'
		it.options.release = 17
	}

	repositories {
		mavenCentral()
	}

	dependencies {
		implementation "org.jetbrains:annotations:${jetbrains_annotations_version}"
		implementation "org.slf4j:slf4j-api:${slf4j_version}"
		runtimeOnly "org.tinylog:tinylog-impl:${tinylog_version}"
		runtimeOnly "org.tinylog:slf4j-tinylog:${tinylog_version}"
	}
}

